---
import { db, eq, Headline, ExperienceCard } from 'astro:db';
import Layout from '../layouts/Layout.astro';
import Header, { type HeadlineData } from '@components/react/header/header';
import Footer from '@components/astro/footer/Footer.astro';
import Cards from '@components/astro/cards/Cards.astro';
import type { Props as CardProps } from '@components/astro/card/Card.astro';
import jasonHomeImage from '@assets/images/stickers/Memoji_Home.png';

const headlines = (await db.select().from(Headline).where(eq(Headline.page, 'home'))) as HeadlineData[];
const cards = (await db.select().from(ExperienceCard)) as CardProps[];
---

<Layout title="Jason Schulz â€” Software Engineer">
  <Header defaultImageMetadata={jasonHomeImage} headlines={headlines} client:visible />
  <Cards cards={cards} />
  <Footer showsAttribution />
</Layout>

<style>
  :root {
    footer .cards {
      align-items: center;
    }
  }
</style>
