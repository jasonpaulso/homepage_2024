---
import EmailNotification from '../notification/EmailNotification.astro';
import Navigation from '../../react/nav/nav.tsx';
import type { NavData } from '../../react/nav/nav.tsx';
const pathname = Astro.url.pathname;
const navData: NavData = {
  links: [
    {
      title: 'Home',
      href: '/',
    },
    {
      title: 'About',
      href: '/about/',
    },
    {
      title: 'Email Me',
      href: 'mailto:jason@schulz.studio',
    },
  ],
};

const findActiveLinkIndex = (links: { href: string }[]) => {
  const activeLinkIndex = links.findIndex((link) => link.href === pathname);
  return activeLinkIndex;
};
const activeLinkIndex = findActiveLinkIndex(navData.links);
---

<>
  <Navigation links={navData.links} activeLinkIndex={activeLinkIndex} client:load />
  <EmailNotification />
</>
